npm info using npm@11.4.2
npm info using node@v24.1.0
npm warn Unknown cli config "--testPathPattern". This will stop working in the next major version of npm.

> cursuri@0.1.0 test
> jest

PASS __tests__/api/ApiRoutes.test.tsx
  API Routes
    /api/sync-lesson
      Î“ÃªÃœ should handle missing lessonId parameter (6 ms)
      Î“ÃªÃœ should validate request method (1 ms)
      Î“ÃªÃœ should handle valid sync request parameters (1 ms)
    /api/invoice/generate
      Î“ÃªÃœ should validate invoice generation parameters (1 ms)
      Î“ÃªÃœ should handle missing required parameters
      Î“ÃªÃœ should validate currency parameter (1 ms)
    /api/certificate
      Î“ÃªÃœ should validate certificate generation parameters (1 ms)
      Î“ÃªÃœ should handle certificate template parameters (1 ms)
      Î“ÃªÃœ should validate user name format (1 ms)
    /api/captions
      Î“ÃªÃœ should validate video URL parameter (1 ms)
      Î“ÃªÃœ should handle supported languages (1 ms)
      Î“ÃªÃœ should validate video file extensions
      Î“ÃªÃœ should handle caption format options (1 ms)
    API Error Handling
      Î“ÃªÃœ should handle malformed JSON requests
      Î“ÃªÃœ should handle missing Content-Type header (1 ms)
      Î“ÃªÃœ should handle empty request body
    API Security
      Î“ÃªÃœ should validate authentication headers (1 ms)
      Î“ÃªÃœ should handle missing authentication
      Î“ÃªÃœ should validate user permissions (1 ms)
    API Response Formats
      Î“ÃªÃœ should return consistent success response format (1 ms)
      Î“ÃªÃœ should return consistent error response format
      Î“ÃªÃœ should handle different HTTP status codes (1 ms)

PASS __tests__/components/Course/CourseAccess.test.tsx
  Course Content Display Tests
    Î“ÃªÃœ should test lesson access control logic (4 ms)
    Î“ÃªÃœ should allow access to free lessons (1 ms)
    Î“ÃªÃœ should allow access when user has course access
    Î“ÃªÃœ should handle lesson duration formatting (1 ms)

PASS __tests__/components/Course/CourseContentExtraction.test.tsx
  Course Content Extraction Tests
    Î“ÃªÃœ should extract lessons from nested Firebase data structure (5 ms)
    Î“ÃªÃœ should handle direct lesson data format
    Î“ÃªÃœ should handle empty or invalid lesson data
    Î“ÃªÃœ should verify hasAccess prop logic (1 ms)

  console.log
    getCoursePrice: No priceProduct found for course test-course

      at log (utils/pricing.ts:32:17)

  console.log
    getCoursePrice: No priceProduct found for course test-course

      at log (utils/pricing.ts:32:17)

  console.log
    getCoursePrice: No priceProduct found for course test-course

      at log (utils/pricing.ts:32:17)

  console.error
    Error converting date to ISO string: RangeError: Invalid time value
        at Date.toISOString (<anonymous>)
        at toISOString (E:\GitHub\cursuri\utils\timeHelpers.ts:27:35)
        at Object.<anonymous> (E:\GitHub\cursuri\__tests__\utils\TimeHelpers.test.tsx:39:29)
        at Promise.finally.completed (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusTest (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
        at E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (E:\GitHub\cursuri\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (E:\GitHub\cursuri\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (E:\GitHub\cursuri\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (E:\GitHub\cursuri\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 30 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 31 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 32 |[39m         console[33m.[39merror([32m'Error converting date to ISO string:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 33 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 34 |[39m     }
     [90m 35 |[39m }[0m

      at error (utils/timeHelpers.ts:32:17)
      at Object.<anonymous> (__tests__/utils/TimeHelpers.test.tsx:39:29)

  console.error
    Error converting date to ISO string: RangeError: Invalid time value
        at Date.toISOString (<anonymous>)
        at toISOString (E:\GitHub\cursuri\utils\timeHelpers.ts:22:25)
        at Object.<anonymous> (E:\GitHub\cursuri\__tests__\utils\TimeHelpers.test.tsx:46:29)
        at Promise.finally.completed (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusTest (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
        at E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (E:\GitHub\cursuri\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (E:\GitHub\cursuri\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (E:\GitHub\cursuri\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (E:\GitHub\cursuri\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 30 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 31 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 32 |[39m         console[33m.[39merror([32m'Error converting date to ISO string:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 33 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 34 |[39m     }
     [90m 35 |[39m }[0m

      at error (utils/timeHelpers.ts:32:17)
      at Object.<anonymous> (__tests__/utils/TimeHelpers.test.tsx:46:29)

  console.log
    getCoursePrice: No priceProduct found for course test

      at log (utils/pricing.ts:32:17)

  console.log
    getCoursePrice: No priceProduct found for course test

      at log (utils/pricing.ts:32:17)

  console.log
    getCoursePrice: No priceProduct found for course test

      at log (utils/pricing.ts:32:17)

PASS __tests__/utils/PricingHelpers.test.tsx
  Pricing Utility Functions
    getCoursePrice
      Î“ÃªÃœ returns free pricing for free courses (3 ms)
      Î“ÃªÃœ handles courses with priceProduct and specific price ID (14 ms)
      Î“ÃªÃœ falls back to first available price when specific price not found (1 ms)
      Î“ÃªÃœ handles legacy numeric price property
      Î“ÃªÃœ handles legacy string price property
      Î“ÃªÃœ returns default pricing for courses without valid price info (32 ms)
      Î“ÃªÃœ handles different currencies correctly
      Î“ÃªÃœ ignores invalid string prices (2 ms)
      Î“ÃªÃœ ignores Stripe price IDs as legacy prices (1 ms)
    formatPrice
      Î“ÃªÃœ formats RON currency correctly (1 ms)
      Î“ÃªÃœ formats USD currency correctly (1 ms)
      Î“ÃªÃœ defaults to RON when currency not specified
      Î“ÃªÃœ handles zero amounts
      Î“ÃªÃœ handles large amounts (1 ms)
      Î“ÃªÃœ handles decimal amounts correctly
      Î“ÃªÃœ handles case insensitive currency codes
    hasValidPrice
      Î“ÃªÃœ returns true for free courses
      Î“ÃªÃœ returns true for courses with valid pricing
      Î“ÃªÃœ returns true for legacy courses with numeric price
      Î“ÃªÃœ returns false for courses without valid pricing (1 ms)
      Î“ÃªÃœ returns false for courses with zero price (not explicitly free) (1 ms)
      Î“ÃªÃœ returns false for courses with invalid string prices (1 ms)

  console.error
    Error formatting date: RangeError: Invalid time value
        at format (E:\GitHub\cursuri\utils\timeHelpers.ts:73:58)
        at Object.<anonymous> (E:\GitHub\cursuri\__tests__\utils\TimeHelpers.test.tsx:106:24)
        at Promise.finally.completed (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusTest (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
        at E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (E:\GitHub\cursuri\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (E:\GitHub\cursuri\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (E:\GitHub\cursuri\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (E:\GitHub\cursuri\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 73 |[39m         [36mreturn[39m [36mnew[39m [33mIntl[39m[33m.[39m[33mDateTimeFormat[39m([32m'en-US'[39m[33m,[39m options)[33m.[39mformat(dateObj)[33m;[39m
     [90m 74 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 75 |[39m         console[33m.[39merror([32m'Error formatting date:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 76 |[39m         [36mreturn[39m [32m''[39m[33m;[39m
     [90m 77 |[39m     }
     [90m 78 |[39m }[0m

      at error (utils/timeHelpers.ts:75:17)
      at Object.<anonymous> (__tests__/utils/TimeHelpers.test.tsx:106:24)

  console.error
    Error formatting date: RangeError: Invalid time value
        at format (E:\GitHub\cursuri\utils\timeHelpers.ts:73:58)
        at Object.<anonymous> (E:\GitHub\cursuri\__tests__\utils\TimeHelpers.test.tsx:108:24)
        at Promise.finally.completed (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusTest (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
        at E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (E:\GitHub\cursuri\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (E:\GitHub\cursuri\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (E:\GitHub\cursuri\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (E:\GitHub\cursuri\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (E:\GitHub\cursuri\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 73 |[39m         [36mreturn[39m [36mnew[39m [33mIntl[39m[33m.[39m[33mDateTimeFormat[39m([32m'en-US'[39m[33m,[39m options)[33m.[39mformat(dateObj)[33m;[39m
     [90m 74 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 75 |[39m         console[33m.[39merror([32m'Error formatting date:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 76 |[39m         [36mreturn[39m [32m''[39m[33m;[39m
     [90m 77 |[39m     }
     [90m 78 |[39m }[0m

      at error (utils/timeHelpers.ts:75:17)
      at Object.<anonymous> (__tests__/utils/TimeHelpers.test.tsx:108:24)

PASS __tests__/utils/TimeHelpers.test.tsx
  Time Helper Functions
    safeToISOString
      Î“ÃªÃœ converts Date objects to ISO string (4 ms)
      Î“ÃªÃœ converts string dates to ISO string (1 ms)
      Î“ÃªÃœ converts number timestamps to ISO string
      Î“ÃªÃœ handles Firebase Timestamp objects (1 ms)
      Î“ÃªÃœ handles null and undefined
      Î“ÃªÃœ handles invalid dates gracefully (47 ms)
      Î“ÃªÃœ handles edge cases (2 ms)
    formatDate
      Î“ÃªÃœ formats Date objects with default options (12 ms)
      Î“ÃªÃœ formats string dates
      Î“ÃªÃœ formats number timestamps
      Î“ÃªÃœ handles Firebase Timestamp objects (1 ms)
      Î“ÃªÃœ handles custom formatting options
      Î“ÃªÃœ formats with time included (1 ms)
      Î“ÃªÃœ handles null and undefined gracefully
      Î“ÃªÃœ handles invalid dates gracefully (5 ms)
      Î“ÃªÃœ handles different locales (1 ms)
      Î“ÃªÃœ formats edge case dates

PASS __tests__/setup.test.tsx
  Jest Setup Test
    Î“ÃªÃœ should render and find text (20 ms)
    Î“ÃªÃœ should pass basic test (1 ms)

PASS __tests__/components/icons/CloseIcon.test.tsx
  CloseIcon Component
    Î“ÃªÃœ renders with default props (23 ms)
    Î“ÃªÃœ applies custom className (3 ms)
    Î“ÃªÃœ has correct SVG attributes (4 ms)
    Î“ÃªÃœ contains correct path with close icon shape (3 ms)
    Î“ÃªÃœ works without className prop (2 ms)
    Î“ÃªÃœ works as child component (3 ms)
    Î“ÃªÃœ handles complex className strings (2 ms)
    Î“ÃªÃœ maintains accessibility with proper SVG element (3 ms)
    Î“ÃªÃœ uses currentColor for stroke (2 ms)
    Î“ÃªÃœ has correct stroke properties for clean rendering (3 ms)

PASS __tests__/components/icons/SearchIcon.test.tsx
  SearchIcon Component
    Î“ÃªÃœ renders with default props (21 ms)
    Î“ÃªÃœ applies custom className (3 ms)
    Î“ÃªÃœ has correct SVG attributes (3 ms)
    Î“ÃªÃœ contains correct path with search icon shape (3 ms)
    Î“ÃªÃœ works without className prop (3 ms)
    Î“ÃªÃœ works as child component (4 ms)
    Î“ÃªÃœ handles complex className strings (3 ms)
    Î“ÃªÃœ maintains accessibility with proper role (2 ms)
    Î“ÃªÃœ uses currentColor for stroke (3 ms)
    Î“ÃªÃœ has correct stroke properties for clean rendering (1 ms)
    Î“ÃªÃœ renders correctly in different contexts (4 ms)
    Î“ÃªÃœ preserves search magnifying glass visual pattern (1 ms)

PASS __tests__/components/LoadingIcon.test.tsx
  LoadingIcon Component
    Î“ÃªÃœ should render with default props (26 ms)
    Î“ÃªÃœ should apply default className (4 ms)
    Î“ÃªÃœ should apply custom className (2 ms)
    Î“ÃªÃœ should apply size prop as width and height attributes (2 ms)
    Î“ÃªÃœ should use default size when size prop is not provided (2 ms)
    SVG Structure
      Î“ÃªÃœ should have correct SVG attributes (1 ms)
      Î“ÃªÃœ should contain two path elements (2 ms)
      Î“ÃªÃœ should have correct path fill attributes (1 ms)
    Accessibility
      Î“ÃªÃœ should have proper ARIA attributes (1 ms)
      Î“ÃªÃœ should indicate loading state semantically (1 ms)
    Animation
      Î“ÃªÃœ should have spin animation class (1 ms)
      Î“ÃªÃœ should preserve animation class when custom className is provided (2 ms)
    Props Handling
      Î“ÃªÃœ should handle all props together (2 ms)
      Î“ÃªÃœ should handle empty className (2 ms)
      Î“ÃªÃœ should handle undefined size gracefully (9 ms)
    CSS Variables Integration
      Î“ÃªÃœ should use CSS custom properties for accent color (2 ms)
    Component Integration
      Î“ÃªÃœ should work as a child component (3 ms)
      Î“ÃªÃœ should render with only supported props (2 ms)
    Edge Cases
      Î“ÃªÃœ should handle very large size values (1 ms)
      Î“ÃªÃœ should handle zero size value with fallback (1 ms)
      Î“ÃªÃœ should maintain functionality with complex className strings (2 ms)

PASS __tests__/components/ui/SectionHeader.test.tsx
  SectionHeader Component
    Î“ÃªÃœ renders with required title prop (22 ms)
    Î“ÃªÃœ renders with title and subtitle (4 ms)
    Î“ÃªÃœ renders with icon, title, and subtitle (4 ms)
    Î“ÃªÃœ applies custom className (3 ms)
    Î“ÃªÃœ has correct default styling classes (3 ms)
    Î“ÃªÃœ does not render subtitle when not provided (3 ms)
    Î“ÃªÃœ does not render icon when not provided (2 ms)
    Î“ÃªÃœ handles empty className gracefully (2 ms)
    Î“ÃªÃœ preserves proper DOM structure (3 ms)
    Î“ÃªÃœ handles long titles and subtitles (2 ms)
    Î“ÃªÃœ maintains accessibility with semantic heading (38 ms)
    Î“ÃªÃœ combines custom className with default classes (1 ms)
    Î“ÃªÃœ renders with complex React node as icon (2 ms)

PASS __tests__/components/LoadingButton.test.tsx
  LoadingButton Component
    Î“ÃªÃœ should render with default props (56 ms)
    Î“ÃªÃœ should render with custom loading text (8 ms)
    Î“ÃªÃœ should apply custom className (7 ms)
    Size Variants
      Î“ÃªÃœ should apply small size classes (5 ms)
      Î“ÃªÃœ should apply medium size classes by default (6 ms)
      Î“ÃªÃœ should apply medium size classes when explicitly set (5 ms)
      Î“ÃªÃœ should apply large size classes (4 ms)
    Button Styling
      Î“ÃªÃœ should have disabled attribute (12 ms)
      Î“ÃªÃœ should have button type attribute (4 ms)
      Î“ÃªÃœ should have gradient background classes (3 ms)
      Î“ÃªÃœ should have rounded and styled classes (4 ms)
    Loading Icon
      Î“ÃªÃœ should render loading icon with correct classes (1 ms)
      Î“ÃªÃœ should position icon before text (2 ms)
    Accessibility
      Î“ÃªÃœ should be keyboard accessible (4 ms)
      Î“ÃªÃœ should have proper button role (3 ms)
    Prop Combinations
      Î“ÃªÃœ should handle all props together (2 ms)
      Î“ÃªÃœ should work with empty className (1 ms)
      Î“ÃªÃœ should work with undefined loadingText fallback (2 ms)
    Component Structure
      Î“ÃªÃœ should maintain consistent DOM structure (3 ms)
      Î“ÃªÃœ should preserve button semantics (3 ms)

PASS __tests__/components/Breadcrumbs.test.tsx
  Breadcrumbs Component
    Homepage Navigation
      Î“ÃªÃœ should not render breadcrumbs on the home page (13 ms)
    Courses Page Navigation
      Î“ÃªÃœ should not render breadcrumbs on main courses page (2 ms)
    Individual Course Navigation
      Î“ÃªÃœ should render breadcrumbs for a specific course page (40 ms)
      Î“ÃªÃœ should render breadcrumbs for unknown course with fallback name (4 ms)
    Lesson Page Navigation
      Î“ÃªÃœ should render complete breadcrumb trail for lesson pages (7 ms)
      Î“ÃªÃœ should handle unknown lesson with fallback name (4 ms)
      Î“ÃªÃœ should handle unknown course and lesson with fallback names (8 ms)
    Path Separators
      Î“ÃªÃœ should include path separators between breadcrumb items (3 ms)
    Accessibility
      Î“ÃªÃœ should have proper ARIA labels (4 ms)
      Î“ÃªÃœ should mark the current page with aria-current (3 ms)
    Edge Cases
      Î“ÃªÃœ should handle empty courses and lessons data (2 ms)
      Î“ÃªÃœ should not render for single breadcrumb item
      Î“ÃªÃœ should handle malformed URLs gracefully (3 ms)
    Course and Lesson Name Display
      Î“ÃªÃœ should display correct course names for different courses (2 ms)
      Î“ÃªÃœ should display correct lesson names for different lessons (2 ms)

PASS __tests__/components/ErrorPage.test.tsx
  ErrorPage Component
    Î“ÃªÃœ renders with default props (29 ms)
    Î“ÃªÃœ renders with custom title and message (4 ms)
    Î“ÃªÃœ renders home button by default (3 ms)
    Î“ÃªÃœ renders back button by default (3 ms)
    Î“ÃªÃœ hides home button when showHomeButton is false (2 ms)
    Î“ÃªÃœ hides back button when showBackButton is false (2 ms)
    Î“ÃªÃœ calls router.back when back button is clicked (6 ms)
    Î“ÃªÃœ renders custom image when imageSrc provided (3 ms)
    Î“ÃªÃœ does not render image when imageSrc not provided (2 ms)
    Î“ÃªÃœ displays different status codes correctly (4 ms)
    Î“ÃªÃœ applies correct CSS classes for styling (2 ms)
    Î“ÃªÃœ maintains accessibility with proper heading structure (25 ms)
    Î“ÃªÃœ handles all props together (4 ms)
    Î“ÃªÃœ renders both buttons with correct types (7 ms)

FAIL __tests__/components/Authentication.test.tsx
  Authentication System
    User Authentication State
      â”œÃ¹ should start with no authenticated user (3 ms)
      â”œÃ¹ should handle user authentication
      â”œÃ¹ should handle user logout
    Admin Role Detection
      â”œÃ¹ should detect admin users by email (1 ms)
      â”œÃ¹ should detect alternative admin email patterns
      â”œÃ¹ should not grant admin to regular users
    Email Verification
      â”œÃ¹ should handle verified users
      â”œÃ¹ should handle unverified users
    Authentication Loading State
      â”œÃ¹ should show loading initially
      â”œÃ¹ should stop loading after auth state resolves
    Authentication Error Handling
      â”œÃ¹ should handle authentication errors gracefully
      â”œÃ¹ should handle malformed user objects
    Authentication State Persistence
      â”œÃ¹ should maintain authentication state across re-renders
    Multiple Admin Email Patterns
      â”œÃ¹ should recognize admin@cursuri.ro as admin
      â”œÃ¹ should recognize administrator@cursuri.ro as admin
      â”œÃ¹ should recognize owner@cursuri.ro as admin (1 ms)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ User Authentication State Î“Ã‡â•‘ should start with no authenticated user

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ User Authentication State Î“Ã‡â•‘ should handle user authentication

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ User Authentication State Î“Ã‡â•‘ should handle user logout

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ Admin Role Detection Î“Ã‡â•‘ should detect admin users by email

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ Admin Role Detection Î“Ã‡â•‘ should detect alternative admin email patterns

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ Admin Role Detection Î“Ã‡â•‘ should not grant admin to regular users

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ Email Verification Î“Ã‡â•‘ should handle verified users

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ Email Verification Î“Ã‡â•‘ should handle unverified users

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ Authentication Loading State Î“Ã‡â•‘ should show loading initially

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ Authentication Loading State Î“Ã‡â•‘ should stop loading after auth state resolves

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ Authentication Error Handling Î“Ã‡â•‘ should handle authentication errors gracefully

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ Authentication Error Handling Î“Ã‡â•‘ should handle malformed user objects

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ Authentication State Persistence Î“Ã‡â•‘ should maintain authentication state across re-renders

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ Multiple Admin Email Patterns Î“Ã‡â•‘ should recognize admin@cursuri.ro as admin

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ Multiple Admin Email Patterns Î“Ã‡â•‘ should recognize administrator@cursuri.ro as admin

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

  Î“Ã¹Ã… Authentication System Î“Ã‡â•‘ Multiple Admin Email Patterns Î“Ã‡â•‘ should recognize owner@cursuri.ro as admin

    TypeError: _auth.onAuthStateChanged.mockImplementation is not a function

      43 |
      44 |     // Default mock for onAuthStateChanged
    > 45 |     (onAuthStateChanged as jest.Mock).mockImplementation((auth, callback) => {
         |                                       ^
      46 |       return () => { }; // Return unsubscribe function
      47 |     });
      48 |

      at Object.mockImplementation (__tests__/components/Authentication.test.tsx:45:39)

Test Suites: 1 failed, 13 passed, 14 of 18 total
Tests:       16 failed, 176 passed, 192 total
Snapshots:   0 total
Time:        3 s
Ran all test suites.
